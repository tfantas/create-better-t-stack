# Ruler Configuration File
# See https://okigu.com/ruler for documentation.

# Default agents to run when --agents is not specified
default_agents = []

# --- Global MCP Server Configuration ---
[mcp]
# Enable/disable MCP propagation globally (default: true)
enabled = true
# Global merge strategy: 'merge' or 'overwrite' (default: 'merge')
merge_strategy = "merge"

# --- MCP Server Definitions ---
[mcp_servers.context7]
command = "npx"
args = ["-y", "@upstash/context7-mcp"]

{{#if (or (eq runtime "workers") (eq webDeploy "wrangler"))}}
[mcp_servers.cloudflare]
command = "npx"
args = ["mcp-remote", "https://docs.mcp.cloudflare.com/sse"]
{{/if}}

{{#if (eq backend "convex")}}
[mcp_servers.convex]
command = "npx"
args = ["-y", "convex@latest", "mcp", "start"]
{{/if}}

{{#if (or (includes frontend "tanstack-router") (includes frontend "react-router") (includes frontend "tanstack-start") (includes frontend "next"))}}
[mcp_servers.shadcn]
command = "npx"
args = ["shadcn@latest", "mcp"]
{{/if}}

{{#if (eq dbSetup "planetscale")}}
[mcp_servers.planetscale]
command = "pscale"
args = ["mcp", "server"]
{{/if}}

{{#if (eq dbSetup "prisma-postgres")}}
[mcp_servers.prisma]
command = "npx"
args = ["-y", "prisma", "mcp"]
{{/if}}

{{#if (eq dbSetup "neon")}}
[mcp_servers.neon]
command = "npx"
args = ["-y", "mcp-remote@latest", "https://mcp.neon.tech/mcp"]
{{/if}}

{{#if (eq dbSetup "mongodb-atlas")}}
[mcp_servers.mongodb]
command = "npx"
args = ["-y", "mongodb-mcp-server", "--connectionString", "mongodb://localhost:27017/myDatabase", "--readOnly"]
{{/if}}

{{#if (eq auth "better-auth")}}
[mcp_servers.better-auth]
url = "https://mcp.chonkie.ai/better-auth/better-auth-builder/mcp"
{{/if}}

{{#if (includes frontend "nuxt")}}
[mcp_servers.nuxt-ui]
url = "https://ui.nuxt.com/mcp"
{{/if}}

{{#if (includes frontend "next")}}
[mcp_servers.next-devtools]
command = "npx"
args = ["-y", "next-devtools-mcp@latest"]
{{/if}}

# --- Global .gitignore Configuration ---
[gitignore]
# Enable/disable automatic .gitignore updates (default: true)
enabled = true