<script setup lang="ts">
import type { NavigationMenuItem } from '@nuxt/ui'
{{#if (eq auth "better-auth")}}
import UserMenu from './UserMenu.vue'
{{/if}}

const route = useRoute()

const items = computed<NavigationMenuItem[]>(() => [
    { label: "Home", to: "/", active: route.path === "/" },
    {{#if (or (eq auth "better-auth") (eq auth "clerk"))}}
    { label: "Dashboard", to: "/dashboard", active: route.path.startsWith("/dashboard") },
    {{/if}}
    {{#if (includes examples "todo")}}
    { label: "Todos", to: "/todos", active: route.path.startsWith("/todos") },
    {{/if}}
    {{#if (includes examples "ai")}}
    { label: "AI Chat", to: "/ai", active: route.path.startsWith("/ai") },
    {{/if}}
])
</script>

<template>
  <UHeader>
    <template #left>
      <UNavigationMenu :items="items" />
    </template>

    <template #right>
      <UColorModeButton />
      {{#if (eq auth "better-auth")}}
      <UserMenu />
      {{/if}}
    </template>

    <template #body>
      <UNavigationMenu :items="items" orientation="vertical" class="-mx-2.5" />
    </template>
  </UHeader>
</template>
