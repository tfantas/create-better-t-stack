import { PrismaClient } from "../prisma/generated/client";

{{#if (eq dbSetup "d1")}}
import { PrismaD1 } from "@prisma/adapter-d1";
import { env } from "@{{projectName}}/env/server";

const adapter = new PrismaD1(env.DB);
const prisma = new PrismaClient({ adapter });

export default prisma;
{{else}}
import { PrismaLibSql } from "@prisma/adapter-libsql";
import { env } from "@{{projectName}}/env/server";

const adapter = new PrismaLibSql({
	url: env.DATABASE_URL,
{{#if (eq dbSetup "turso")}}
	authToken: env.DATABASE_AUTH_TOKEN || "",
{{/if}}
});

const prisma = new PrismaClient({ adapter });

export default prisma;
{{/if}}